dependencies:
  pre:
    - sudo apt-get install aptitude
    - sudo aptitude update
    - sudo aptitude install arduino-mk ruby-rspec ruby-serialport ruby-qt4
    - wget -c https://github.com/google/googletest/archive/release-1.7.0.tar.gz -O googletest-release-1.7.0.tar.gz
    - tar xzf googletest-release-1.7.0.tar.gz
    - wget -c https://github.com/google/googlemock/archive/release-1.7.0.tar.gz -O googlemock-release-1.7.0.tar.gz
    - tar xzf googlemock-release-1.7.0.tar.gz

test:
  override:
    - cp calibration.hh.default calibration.hh
    - env PATH=/usr/share/arduino:$PATH make
    - make GTEST=googletest-release-1.7.0 GMOCK=googlemock-release-1.7.0 check
